"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8277],{6117:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(72646),r=a(52676),s=a(55924);function i(e){return(0,r.jsx)(s.Z,(0,n._)({code:"ltc"},e))}},81673:function(e,t,a){var n=a(84750),r=a(5093),s=a(15767),i=a(52676),l=a(41441),o=a(36293),c=a(60881),u=a(11854),d=a(44226),f=a(50061),p=a(38396),h=a(43100),v=a(79298),x=a(84031),m=a(77027),g=a(10982),b=a(80018);a(41637);var _=a(70093),w=a(73216),y=a.n(w),j=a(91113),N=a.n(j),S=a(64691),k=a(75271),C={favorites:{defaultSortBy:"favorited_at",assets:{icon:"/Images/favorites-icon.svg",empty:"/Images/favorites-empty-icon.svg",decoration:"/Images/favorites-decoration.svg"},translations:{title:"favorites",noDataMessage:"no_favorites_to_display",loginMessage:"log_in_access_favorites"}},"recently-played":{defaultSortBy:"last_played",assets:{icon:"/Images/recently-played-icon.svg",empty:"/Images/recently-played-empty-icon.svg",decoration:"/Images/recently-played-decoration.svg"},translations:{title:"recently_played",noDataMessage:"no_recent_games_to_display",loginMessage:"log_in_access_recent_games"}}};t.Z=function(e){var t=e.type,a=e.content,w=(0,r._)((0,k.useState)(C[t].defaultSortBy),2),j=w[0],D=w[1],E=(0,r._)((0,k.useState)(""),2),T=E[0],Z=E[1],z=(0,g.Nr)(T,500),B=(0,r._)((0,k.useState)([]),2),I=B[0],A=B[1],J=(0,r._)((0,k.useState)([]),2),M=J[0],P=J[1],q=(0,r._)((0,k.useState)([]),2),F=q[0],O=q[1],H=(0,r._)((0,k.useState)(!1),2),R=H[0],L=H[1],Q=(0,h.Z)({breakPointThree:600}),G=(0,S.usePathname)(),U=(0,v.EC)().token,W=(0,p.ZP)(),$=(0,k.useMemo)(function(){if(0===M.length)return[];var e=null==M?void 0:M.filter(function(e){return e.name.toLowerCase().includes(z.toLowerCase())}).filter(function(e){return 0===I.length||I.includes(e.producer)});switch(j){case"a-z":e=e.sort(function(e,t){return e.name.localeCompare(t.name)});break;case"z-a":e=e.sort(function(e,t){return t.name.localeCompare(e.name)});break;case"favorited_at":e=e.sort(function(e,t){return new Date(t.favorited_at).getTime()-new Date(e.favorited_at).getTime()});break;case"last_played":e=e.sort(function(e,t){return new Date(t.last_played).getTime()-new Date(e.last_played).getTime()});break;case"release":e=e.sort(function(e,t){return new Date(t.release_date).getTime()-new Date(e.release_date).getTime()});break;default:e=e.sort(function(e,t){return t.recommended-e.recommended})}return e},[z,j,I,M]);return(0,k.useEffect)(function(){D(C[t].defaultSortBy),A([]),Z("")},[t]),(0,k.useEffect)(function(){function e(){return(e=(0,n._)(function(){var e,a,n,i;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(!U)return[2];L(!0),s.label=1;case 1:return s.trys.push([1,3,4,5]),e="favorites"===t?"v1/user/favorites":"v1/user/recent-games",[4,m.Z.get(e,{headers:{Authorization:"Bearer ".concat(U)}})];case 2:return P(n=(a=s.sent()).data.games?a.data.games:a.data),O(Object.entries((null==n?void 0:n.sort(function(e,t){return e.producer.localeCompare(t.producer)}).reduce(function(e,t){return e[t.producer]?e[t.producer]++:e[t.producer]=1,e},{}))||{}).map(function(e){var t=(0,r._)(e,2),a=t[0];return{value:a,label:a,count:t[1]}})),[3,5];case 3:return i=s.sent(),(0,b.H)("Error fetching data after login:",i),[3,5];case 4:return L(!1),[7];case 5:return[2]}})})).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[U,t]),(0,i.jsxs)("div",{children:[(0,i.jsx)(x.default,{meta:null==a?void 0:a.meta}),(0,i.jsxs)("div",{className:"relative w-full h-full z-10",children:[(0,i.jsx)(l.Q,{isNewDesignPage:!0}),(0,i.jsx)("div",{className:"absolute w-full h-full bg-[#151a32] top-0 z-[-1]"})]}),(0,i.jsxs)("div",{className:"relative w-full h-[72px] flex bg-[#1a203c] border border-solid border-[#242845] overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute w-full h-full",children:(0,i.jsx)(y(),{src:"/Images/static-page-decoration.png",alt:"Decoration",fill:!0,className:"object-cover"})}),(0,i.jsxs)("div",{className:"flex relative w-full h-full max-w-[1200px] mx-auto px-4",children:[(0,i.jsxs)("div",{className:"flex items-center relative gap-[18px] ",children:[(0,i.jsx)("div",{className:"w-[32px] h-[32px] relative",children:(0,i.jsx)(y(),{src:C[t].assets.icon,alt:"Bottom content",fill:!0,className:"object-contain"})}),(0,i.jsx)("h1",{className:"text-shadow text-[1.5rem] font-bold",children:(null==a?void 0:a.heading)?null==a?void 0:a.heading:W(C[t].translations.title)})]}),(0,i.jsx)("div",{className:"absolute right-[0px] [@media(min-width:500px)]:right-[45px] top-[-66px] w-[205px] h-[205px] mix-blend-luminosity opacity-70",children:(0,i.jsx)(y(),{src:C[t].assets.decoration,alt:"Decoration",fill:!0,className:"object-contain"})})]})]}),(0,i.jsx)("div",{className:(0,_.cn)("flex flex-col w-full justify-between rounded-[6px] border-none bg-none py-5 max-w-[1200px] px-4 mx-auto",Q&&"flex-col gap-[14px] w-full"),children:(0,i.jsxs)("div",{className:"w-full flex gap-[14px] justify-between relative flex-col xl:flex-row xl:gap-[14px] xl:justify-between ",children:[(0,i.jsx)(c.Wu,{className:"h-[46px] xl:max-w-[660px] cursor-text focus-within:border-[#2099ff] transition duration-300",inputClassName:"cursor-text text-[13px] placeholder-[rgba(232,229,255,0.75)]",name:"search",value:T,onChange:function(e){return Z(e.target.value)},placeholder:W("search"),icon:(0,i.jsx)(y(),{src:"/Images/search-icon.svg",alt:"Search Icon",width:20,height:20,className:"object-contain"})}),(0,i.jsxs)("div",{className:"flex gap-[14px] flex-col w-full  md:flex-row xl:max-w-[530px]",children:[(0,i.jsx)(d.Z,{providerList:F,providerState:I,setProvider:A}),(0,i.jsx)(f.Z,{sortBy:j,setSortBy:D,options:["favorites"===t&&{value:"favorited_at",label:String(W("date_favorited"))},"recently-played"===t&&{value:"last_played",label:String(W("last_played"))},{value:"recommended",label:String(W("recommended"))},{value:"release",label:String(W("release"))},{value:"a-z",label:W("alphabetical")+" (A-Z)"},{value:"z-a",label:W("alphabetical")+" (Z-A)"}]})]})]})}),(0,i.jsx)("div",{className:"bg-white/5 h-[1px] w-full"}),(0,i.jsxs)("div",{className:"mt-[32px] max-w-[1200px] mx-auto px-4",children:[$.length||R?(0,i.jsx)(u.default,{isStatic:!0,initialData:{games:$,count:$.length},searchSection:!1,heading:void 0,showGhostSlots:R}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"w-full h-[233px] bg-[#1f2542] flex justify-center items-center border border-solid border-[#282f58] rounded-[6px]",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,i.jsx)("div",{className:"w-[70px] h-[70px] relative",children:(0,i.jsx)(y(),{src:C[t].assets.empty,alt:"".concat(t.replace("-"," ")," empty state icon"),fill:!0,className:"object-contain"})}),(0,i.jsx)("p",{className:"text-[14px]",children:W(U?C[t].translations.noDataMessage:C[t].translations.loginMessage)}),!U&&(0,i.jsx)(N(),{href:{pathname:G,query:{modal:"auth",tab:"login"}},shallow:!0,className:(0,_.cn)((0,o.d)({variant:"clean"}),"w-[100px] h-[39px] !min-h-[39px] px-2 bg-[#353E64] border-[#434C73] hover:bg-[#3F4879] hover:border-[#6973AF] transition-colors duration-150"),children:W("login")})]})})}),(0,i.jsx)("div",{className:"w-full pt-14 pb-8",children:(0,i.jsx)("div",{className:"bg-white/5 h-[1px]"})})]})]})}},41637:function(e,t,a){a.d(t,{rb:function(){return v}});var n,r=a(84750),s=a(72646),i=a(32586),l=a(15767),o=a(80018),c=a(63509),u=a.n(c),d=a(35245),f=a(17243),p=a(13411);function h(){return(h=(0,r._)(function(e){var t,a,n;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return t=e.url,a=e.language,n=e.headers,[4,(0,p.D)("page-content:".concat(t,":").concat(a),3e5,(0,r._)(function(){var e,r;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return[4,fetch("".concat("https://services.rainbet.com","/v1/public/content"),{method:"POST",headers:(0,s._)({"Content-Type":"application/json",Accept:"application/json"},n),credentials:"include",body:JSON.stringify({url:t,language:a})})];case 1:return[4,(e=i.sent()).json()];case 2:if((null==(r=i.sent())?void 0:r.error)==="er_no_matching_content"||!e.ok)return[2,null];return[2,r]}})}))];case 1:return[2,i.sent()]}})})).apply(this,arguments)}a(47048);var v=(n=(0,r._)(function(e){var t,a;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,d.TU)(e)];case 1:return t=n.sent(),[2,u().sanitize(t)];case 2:return a=n.sent(),(0,o.H)("Failed to sanitize content",a),[2,f.$t];case 3:return[2]}})}),function(e){return n.apply(this,arguments)});(0,r._)(function(e){var t,a;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return[4,function(e){return h.apply(this,arguments)}(e)];case 1:if(!(null==(t=n.sent())?void 0:t.content))return[2,t];return[4,v(null==t?void 0:t.content)];case 2:return a=n.sent(),[2,(0,i._)((0,s._)({},t),{content:a})]}})})},47048:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(84750),r=a(72646),s=a(15767),i=a(26424),l=a(20945),o=a(97259),c=a(5093),u=a(96441),d=a(80018);(0,n._)(function(e,t){var n,i;return(0,s.Jh)(this,function(s){switch(s.label){case 0:throw Error("[ssr] must not be called on the client");case 1:return s.trys.push([1,4,,5]),[4,a.e(6587).then(a.bind(a,96587))];case 2:if(n=s.sent().authOptions,!(i=function(e){if(!e)return null;var t="cookies"in e;try{var a,n=(null==e?void 0:null===(a=e.headers)||void 0===a?void 0:a.cookie)?(0,u.Qc)(e.headers.cookie):{},s=t?e.cookies:{},i=(0,r._)({},n,s);return e.cookies=i,e.headers.cookie=Object.entries(i).map(function(e){var t=(0,c._)(e,2),a=t[0],n=t[1];return(0,u.qC)(a,n)}).join("; "),e}catch(a){return(0,d.H)("could not parse cookies",{error:a,req:e}),t||(e.cookies={}),e}}(e)))return[2,null];return[4,(0,o.getServerSession)(i,t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[2,null];case 5:return[2]}})});var f=a(70980),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userAgent,a=e.cookie,n=e.ip,s=e.token;return(0,r._)({"ssr-secret":f.env.SSR_SECRET},t&&{"user-agent":t},n&&{"ssr-client-ip":n},a&&{cookie:a},s&&{Authorization:"Bearer ".concat(s),token:s})};function h(e){return v.apply(this,arguments)}function v(){return(v=(0,n._)(function(e){var t,a,n,r,o,c,u,d,f;return(0,s.Jh)(this,function(s){switch(s.label){case 0:throw Error("[ssr] must not be called on the client side, import using `const getSSRHeaders = await import('@lib/tools/ssr/get-ssr-headers');`");case 1:if(u=null==(c=s.sent())?void 0:null===(t=c.user)||void 0===t?void 0:t.access_token,!(d=p({userAgent:null==e?void 0:null===(n=e.req)||void 0===n?void 0:null===(a=n.headers)||void 0===a?void 0:a["user-agent"],cookie:null==e?void 0:null===(o=e.req)||void 0===o?void 0:null===(r=o.headers)||void 0===r?void 0:r.cookie,ip:(0,l.R)(e),token:u})))throw Error("[ssr] Failed to generate headers");if("ssr-client-ip"in d)return[3,3];return[4,(0,i._9)(d)];case 2:f=s.sent(),d["ssr-client-ip"]=f.ip,d["x-forwarded-for"]=f.ip,d["x-real-ip"]=f.ip,s.label=3;case 3:return[2,d]}})})).apply(this,arguments)}}}]);