"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4321],{63779:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(72646),r=a(32586),l=a(52676);function i(e){return(0,l.jsx)("svg",(0,r._)((0,t._)({width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 68.25 59.14"},e),{children:(0,l.jsx)("g",{children:(0,l.jsxs)("g",{strokeWidth:"0",children:[(0,l.jsx)("path",{fill:"#fe9923",fillRule:"evenodd",d:"M17.59 39.69c0-5.59 11.34-10.13 25.33-10.13s25.33 4.54 25.33 10.13V49c0 5.59-11.34 10.13-25.33 10.13S17.59 54.59 17.59 49v-9.31z"}),(0,l.jsx)("path",{fill:"#fecd3d",fillRule:"evenodd",d:"M42.92 29.56c13.99 0 25.33 4.54 25.33 10.13S56.91 49.82 42.92 49.82s-25.33-4.53-25.33-10.13c0-5.59 11.34-10.13 25.33-10.13z"}),(0,l.jsx)("path",{fill:"#ffb300",fillRule:"evenodd",d:"M42.92 34.3c11.13 0 20.15 2.42 20.15 5.4s-9.02 5.4-20.15 5.4-20.15-2.41-20.15-5.4 9.02-5.4 20.15-5.4z"}),(0,l.jsx)("path",{fill:"#c85929",d:"M30.1 53.47h2.16v4.72c-.72-.13-1.45-.28-2.16-.45v-4.27zm31.3-2.5v4.96c.78-.34 1.5-.69 2.17-1.06v-3.9H61.4zm-23.48 7.96c.71.06 1.44.1 2.17.14v-4.51h-2.17v4.37zm-15.65-4.06c.66.37 1.39.72 2.17 1.06v-4.96h-2.17v3.9zm23.48 4.2c.72-.03 1.44-.08 2.16-.14v-4.37h-2.16v4.5zm7.82-.88c.72-.13 1.45-.28 2.16-.45v-4.26h-2.16v4.72z"}),(0,l.jsx)("path",{fill:"#ffb300",d:"M7.44 50.95v3.02h2.68v2.15H7.44v3.02H5.52v-3.02H2.83v-2.15h2.69v-3.02h1.92zm49.11-33.04v3.02h2.69v2.15h-2.69v3.02h-1.92v-3.02h-2.68v-2.15h2.68v-3.02h1.92zM8.73 0v3.02h2.68v2.15H8.73v3.02H6.81V5.17H4.12V3.02h2.69V0h1.92z"}),(0,l.jsx)("path",{fill:"#fe9923",fillRule:"evenodd",d:"M.46 34.43c-2.49-4.85 5.31-15.14 17.42-22.99C30 3.59 41.84 1.16 44.34 6c1.38 2.69 2.76 5.37 4.15 8.06 2.49 4.85-5.31 15.14-17.42 22.99C18.95 44.9 7.11 47.34 4.62 42.49 3.24 39.8 1.85 37.12.47 34.43z"}),(0,l.jsx)("path",{fill:"#fecd3d",fillRule:"evenodd",d:"M17.89 11.44C30 3.59 41.84 1.16 44.34 6c2.49 4.85-5.31 15.14-17.42 22.99C14.8 36.84 2.96 39.27.46 34.43c-2.49-4.85 5.31-15.14 17.42-22.99z"}),(0,l.jsx)("path",{fill:"#ffb300",fillRule:"evenodd",d:"M20 15.54c9.64-6.24 18.53-9.21 19.86-6.63 1.33 2.58-5.41 9.73-15.05 15.98-9.64 6.24-18.53 9.21-19.85 6.63-1.33-2.58 5.41-9.73 15.04-15.98z"}),(0,l.jsx)("path",{fill:"#c85929",d:"M26.58 34.68l2.01 3.9c-.64.38-1.29.75-1.94 1.1L24.7 35.9l1.88-1.22zM9.55 41.57l1.74 3.37c.74-.05 1.52-.15 2.35-.3l-2.21-4.29-1.88 1.22zm7.89-2.23l1.9 3.7c.7-.26 1.39-.53 2.07-.82l-2.1-4.09-1.88 1.21zm14.04-7.84l2.01 3.9c.61-.43 1.22-.87 1.81-1.33l-1.95-3.78-1.88 1.21zm13.83-13.1l-1.88 1.22 2.21 4.29c.52-.72.99-1.44 1.4-2.13L45.3 18.4zm-7.54 7.77l2.1 4.09c.57-.52 1.13-1.05 1.67-1.6l-1.9-3.69-1.87 1.21z"})]})})}))}},96159:function(e,n,a){a.d(n,{w:function(){return s}});var t=a(52676),r=a(15797),l=a(70093),i=a(44739),s=function(e){var n=e.progress,a=void 0===n?0:n,s=e.rankName,u=e.className;return(0,t.jsx)(r.Z,{text:"".concat(a.toFixed(0),"%"),placement:"top",size:"small",transparent:!0,children:(0,t.jsx)("div",{className:(0,l.cn)("w-full h-[20px] bg-[#474b63] rounded-full border-[5px] border-solid border-[#333852]",u),children:(0,t.jsx)("div",{className:(0,l.cn)("h-full bg-gradient-to-b transition-all duration-500 rounded-full",i.bB[s]||i.bB.unranked),style:{width:"".concat(a,"%")}})})})}},32642:function(e,n,a){a.d(n,{V:function(){return c}});var t=a(52676),r=a(36355),l=a(23158),i=a(38396),s=a(50726),u=a(70093),o=a(44739),d=a(20836),c=function(e){var n,a,c,m,v,f=e.userProfile,x=e.type,p=e.loading,h=(0,s.r)(),g=h.nextRank,k=h.userRank,b=(0,i.ZP)(),w="self"===x?(0,d.B)(null==k?void 0:k.name):(0,d.B)(null==f?void 0:f.betRank),j="self"===x?null!==(a=null==k?void 0:k.division)&&void 0!==a?a:"":null!==(c=null==f?void 0:f.betLevel)&&void 0!==c?c:"",_=!(null==g?void 0:g.name)&&"infernaldiamond"===w;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p?(0,t.jsx)("div",{className:"h-[23px] w-[23px] bg-gray-700/70 rounded-full animate-pulse"}):w&&"unranked"!==w?(0,t.jsx)(r.Z,{code:w,size:"xlarge"}):(0,t.jsx)(l.ul,{width:"25px"}),p?(0,t.jsx)("div",{className:"h-[13px] w-16 bg-gray-700/70 rounded-md animate-pulse"}):(0,t.jsx)("span",{className:(0,u.cn)("font-semibold text-[13px] uppercase",o.j5[w]||o.j5.unranked),children:w?"".concat(b(o.dE[w])," ").concat(null!==(m=null==j?void 0:j.toUpperCase())&&void 0!==m?m:""):b("homeBanner.rank_banner.unrank")})]}),"self"===x&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p?(0,t.jsx)("div",{className:"h-[23px] w-[23px] bg-gray-700/70 rounded-full animate-pulse"}):(null==g?void 0:g.name)&&(0,t.jsx)("span",{className:"font-medium",children:(0,t.jsx)(r.Z,{code:null==g?void 0:g.name,size:"xlarge"})}),p?(0,t.jsx)("div",{className:"h-[13px] w-16 bg-gray-700/70 rounded-md animate-pulse"}):(0,t.jsx)("span",{className:(0,u.cn)("font-semibold text-[13px] uppercase",_?"text-[#E8E5FF]/75":o.j5[null==g?void 0:g.name]||o.j5.unranked),children:(null==g?void 0:g.name)?"".concat(b(g.name)," ").concat(null!==(v=null==g?void 0:null===(n=g.division)||void 0===n?void 0:n.toUpperCase())&&void 0!==v?v:""):b("infernaldiamond"===w?"completed":"unranked")})]})]})}},44739:function(e,n,a){a.d(n,{Lx:function(){return s},bB:function(){return l},dE:function(){return u},j5:function(){return i}});var t=a(72646),r=a(32586),l={unranked:"from-[#52648C] to-[#6B7EA8]",bronze:"from-[#E39E79] to-[#ECBCA2]",silver:"from-[#C3C0BE] to-[#DAD8D7]",gold:"from-[#F8C766] to-[#FFE1A4]",platinum:"from-[#E2E2E2] to-[#FCFCFC]",diamond:"from-[#94DAF9] to-[#C5EBFC]",infernal:"from-[#F86E6E] to-[#FCCACA]","infernal-diamond":"from-[#F7C15D] to-[#F28542]",infernaldiamond:"from-[#F7C15D] to-[#F28542]"},i={unranked:"text-[#8F9EBF]",bronze:"text-[#EBA47E]",silver:"text-[#C2BDBA]",gold:"text-[#F8C766]",platinum:"text-[#F1EEEE]",diamond:"text-[#97DBF9]",infernal:"text-[#FF897D]","infernal-diamond":"text-[#FBB481]",infernaldiamond:"text-[#FBB481]"},s=["bronze","diamond","gold","platinum","silver","infernal","infernaldiamond","unranked"],u=s.reduce(function(e,n){return(0,r._)((0,t._)({},e),{[n]:"infernaldiamond"===n?"infernal_diamond":n})},{})},20836:function(e,n,a){a.d(n,{B:function(){return l},d:function(){return r}});var t=a(44739),r=function(e){var n,a,t,r;return e&&(null==e?void 0:e.profile)?{username:e.username,created_at:e.profile.registered_at,betRank:null===(n=e.rank)||void 0===n?void 0:n.bet_rank,betLevel:null===(a=e.rank)||void 0===a?void 0:a.bet_rank_division,total_bets:null===(t=e.profile)||void 0===t?void 0:t.bet_count,wagered_amount:null===(r=e.profile)||void 0===r?void 0:r.wagered_amount}:null},l=function(e){if(!e)return"unranked";var n,a=e.toLowerCase().replaceAll(/-/g,"").replaceAll(" ","");return null!==(n=t.Lx.find(function(e){return e===a}))&&void 0!==n?n:"unranked"}},2204:function(e,n,a){a.d(n,{VY:function(){return v.V},wY:function(){return f.w},Iw:function(){return z}});var t,r=a(52676),l=a(89510),i=a(38396),s=a(50726),u=a(53669),o=a(30603),d=a(10982),c=a(73216),m=a.n(c),v=a(32642),f=a(96159),x=function(e){var n=e.userProfile,a=e.type,t=e.loading,c=(0,i.ZP)(),x=(0,d.bU)(),p="self"===a,h=(0,s.r)(),g=h.nextRank,k=h.progress,b=h.userRank,w=p?null==g?void 0:g.threshold:null,j=(null==n?void 0:n.betRank)!==null||(null==n?void 0:n.total_bets)!==null;return(0,r.jsxs)("ul",{className:"flex flex-col w-full gap-4",children:[(0,r.jsxs)("li",{className:"flex justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[t&&"user"===a?(0,r.jsx)("div",{className:"h-[18px] w-24 bg-gray-700/70 rounded-md animate-pulse"}):(0,r.jsx)("h3",{className:"font-semibold text-[18px]",children:null==n?void 0:n.username}),(0,r.jsxs)("p",{className:"flex flex-wrap gap-1 text-[#8788A5] text-[12px] font-medium",children:[c("member_since"),t?(0,r.jsx)("div",{className:"h-[18px] w-16 bg-gray-700/70 rounded-md animate-pulse"}):(0,r.jsx)("time",{children:(0,u._)(n.created_at,"MMM d, yyyy",x)})]}),j&&!p&&(0,r.jsx)("div",{className:"flex justify-between items-center mt-[4px]",children:(0,r.jsx)(v.V,{userProfile:n,type:a,loading:t})})]}),p&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[t?(0,r.jsx)("div",{className:"h-[14px] w-16 bg-gray-700/70 rounded-md animate-pulse"}):(0,r.jsx)(l.Z,{amount:w,size:"small",textSize:14,classType:"custom-value-display",raw:!0,customClassValue:"!text-[#E8E5FF] font-medium"}),(0,r.jsx)("span",{className:"text-[#E8E5FF]/70 text-[13px] font-medium",children:c("rank_banner_remaining")})]})]}),p&&(0,r.jsxs)("li",{children:[t?(0,r.jsx)("div",{className:"h-[20px] w-full bg-gray-700/70 rounded-md animate-pulse"}):(0,r.jsx)(f.w,{progress:k,rankName:b.name}),j&&(0,r.jsx)("div",{className:"flex justify-between items-center mt-[12px]",children:(0,r.jsx)(v.V,{userProfile:n,type:a,loading:t})})]}),!j&&(0,r.jsxs)("li",{className:"grid grid-cols-[18px_1fr] gap-4 items-center bg-[#303553] rounded-xl p-4",children:[(0,r.jsx)(m(),{src:"/icons/eye-disabled-icon.svg",alt:"eye",width:18,height:18,loader:(0,o.T)(),className:"opacity-50"}),(0,r.jsx)("p",{className:"text-[#E8E5FF]/70 text-[13px] font-medium",children:c("privacy_setting")})]})]})},p=a(5093),h=a(21658),g=a(84750),k=a(15767),b=a(64329),w=a(93678),j=(t=(0,g._)(function(e){var n,a;return(0,k.Jh)(this,function(t){switch(t.label){case 0:return n=(0,p._)(e,2)[1],[4,w.h1.post("public/profile",{id:n})];case 1:if(!(a=t.sent()).data.success)return(0,d.Fj)(),[2,null];return[2,a.data.result]}})}),function(e){return t.apply(this,arguments)}),_=function(e){var n=(0,b.ZP)(e?["public/profile",e]:null,j),a=n.data;return{userProfile:e&&null!=a?a:null,isLoading:n.isLoading}},y=a(89528),N=a(44124),F=a(64691),C=a(75271),R=function(e){var n=e.icon,a=e.title,t=e.value,i=e.loading,s=e.valueDisplay;return(0,r.jsxs)("li",{className:"bg-[#303554] rounded-[6px] h-[78px] p-[18px] flex gap-[12px] flex-col justify-between",children:[(0,r.jsxs)("h5",{className:"flex gap-2 items-center text-[12px] font-medium text-[#8788A5]",children:[(0,r.jsx)("div",{className:"h-[16px] w-[16px]",children:(0,r.jsx)(m(),{alt:a,loader:(0,o.T)(),src:n,className:"object-contain",width:144,height:144})}),a]}),i?(0,r.jsx)("div",{className:"h-[21px] w-16 bg-gray-700/70 rounded-[6px] animate-pulse"}):void 0===s||s?(0,r.jsx)(l.Z,{amount:t,customClass:"h-[14px] flex items-center",customClassValue:"text-[14px] text-white font-medium",raw:!0}):(0,r.jsx)("p",{className:"text-[14px] text-white font-medium h-[14px] flex items-center",children:t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})})]})},E=function(e){var n,a,t=e.userProfile,l=e.loading,s=null!==(n=null==t?void 0:t.total_bets)&&void 0!==n?n:0,u=null!==(a=null==t?void 0:t.wagered_amount)&&void 0!==a?a:0,o=(0,i.ZP)();return(0,r.jsxs)("ul",{className:"grid grid-cols-2 gap-[12px]",children:[(0,r.jsx)(R,{icon:"/icons/total-bets-icon.svg",title:o("total_bets"),value:s,loading:l,valueDisplay:!1}),(0,r.jsx)(R,{icon:"/icons/wallet-icon.svg",title:o("total_wagered"),value:u,loading:l,valueDisplay:!0})]})},Z=a(63779),P=a(63573);function A(e){var n=e.userProfile,a=(0,i.ZP)();return(null==n?void 0:n.username)?(0,r.jsx)(P.Z,{buttonType:"link",query:{modal:"wallet",tab:"tip",name:n.username},extraContent:(0,r.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:a("tip")})]}),active:!1,classType:["tip-user"],className:"w-full"}):null}var M=a(20836),z=function(){var e,n=(0,F.useSearchParams)().get("user"),a=(0,p._)((0,C.useState)("user"),2),t=a[0],l=a[1],s=(0,y.i)().publicId;(0,C.useEffect)(function(){s&&n&&s===n?l("self"):l(n?"user":"self")},[s,n]);var u=(0,N.ZP)(),o=u.data,d=u.mutate,c=(0,i.ZP)();(0,C.useEffect)(function(){"self"===t&&(null==d||d())},[d,t]);var m=_(n&&"user"===t?n:null),v=m.userProfile,f=m.isLoading,g="self"===t?(0,M.d)(o):v,k="self"===t?s:n,b="user"!==t||(null!==(e=null==v?void 0:v.stats)&&void 0!==e?e:0)!==0||(null==v?void 0:v.betRank)!=null||(null==v?void 0:v.total_bets)!=null;return(0,r.jsxs)("section",{className:"flex flex-col gap-[20px] max-w-[444px] w-full md:min-w-[444px]",children:[(0,r.jsx)("h2",{className:"text-white font-semibold text-[20px] px-6",children:c("profile")}),(0,r.jsx)("hr",{className:"border-t border-white/5"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-6 overflow-hidden",children:[(0,r.jsxs)("p",{className:"flex items-center gap-1 md:w-auto w-[55%]",children:[(0,r.jsxs)("b",{className:"font-medium text-[13px] text-[#8788A5]",children:[c("id"),":"]}),(0,r.jsx)("span",{className:"w-full text-[#E8E5FF] text-[13px] font-medium truncate inline-block",children:f?(0,r.jsx)("div",{className:"h-[13px] w-48 bg-gray-700/70 rounded-md animate-pulse"}):k})]}),(0,r.jsx)(h.i,{value:k,className:"-translate-y-1 w-fit"})]}),(0,r.jsx)("hr",{className:"border-t border-white/5"}),(0,r.jsx)("div",{className:"px-6",children:(0,r.jsx)(x,{loading:f||!g,userProfile:g,type:t})}),b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-t border-white/5"}),(0,r.jsx)("div",{className:"px-6",children:(0,r.jsx)(E,{loading:f||!g,userProfile:g})})]}),"user"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"border-t border-white/5"}),(0,r.jsx)("div",{className:"px-6",children:f?(0,r.jsx)("div",{className:"h-[52px] w-full bg-gray-700/70 rounded-md animate-pulse"}):(0,r.jsx)(A,{userProfile:g})})]})]})}},50726:function(e,n,a){a.d(n,{r:function(){return k}});var t=a(84750),r=a(15767),l=a(72984),i=a(93678),s=a(66820),u=a(10982),o=a(16588),d=a(69982),c=a(75271),m=a(40363),v=a(64329),f=a(45632),x=a(91356),p=a(44124),h=a(59629),g="v1/rewards/ranks/status",k=function(){var e,n,a,k,b,w=(0,l.v)().data,j=(0,d.Dv)(o.YU),_=(0,p.ZP)().mutate,y=(0,h.ZP)().balanceMutate,N=(0,f.Z)().getConvertedAmount,F=null===(n=(0,m.kY)().cache.get(g))||void 0===n?void 0:n.data,C=(0,x.Ry)().sort(function(e,n){return Number(n.threshold)-Number(e.threshold)}),R=(0,v.ZP)(j?g:null,function(){return i.VF.get(g).then(function(e){return e.data}).catch((0,u.F1)(s.Z))},{keepPreviousData:!0,fallbackData:F,revalidateOnMount:!0,revalidateOnFocus:!0,refreshInterval:0}),E=R.data,Z=R.mutate,P=R.isValidating,A=R.error,M=!!(E&&Array.isArray(E.ranks)&&E.ranks.length>0)&&!A&&!P,z=j&&!E&&!0===P,B=function(e,n){return"".concat(e.toLowerCase(),"-").concat(n.toLowerCase())},D=(0,c.useMemo)(function(){var e,n=null!==(e=null==E?void 0:E.ranks)&&void 0!==e?e:[],a=n.filter(function(e){return"CLAIMED"===e.status}),t=n.filter(function(e){return"AVAILABLE"===e.status}),r=n.filter(function(e){return"NOT_CLAIMABLE"===e.status});return{ranksHistory:a.map(function(e){return{rank_id:e.rank_id,rank_name:e.rank_name,rank_division:e.rank_division,rank_claimed_amount:e.rank_claimed_amount}}),claimedRanks:a.map(function(e){return{name:e.rank_name,division:e.rank_division}}),availableSet:new Set(t.map(function(e){return B(e.rank_name,e.rank_division)})),claimedSet:new Set(a.map(function(e){return B(e.rank_name,e.rank_division)})),notClaimableSet:new Set(r.map(function(e){return B(e.rank_name,e.rank_division)})),statusByKey:new Map(n.map(function(e){return[B(e.rank_name,e.rank_division),e.status]}))}},[E]),L=D.ranksHistory,S=D.claimedRanks,V=D.availableSet,O=D.claimedSet,H=D.notClaimableSet,I=D.statusByKey,T=N(null==w?void 0:w.required_to_next_rank_usd,{round:{direction:"up"}}),U={name:null!==(a=null==w?void 0:w.betRank)&&void 0!==a?a:"unranked",division:null==w?void 0:w.betRankDivision,totalWagered:null==w?void 0:w.wagered_amount},Y={name:null==w?void 0:w.nextRank,division:null==w?void 0:w.nextRankDivision,threshold:T,totalToNextRank:T+ +(null!==(k=null==w?void 0:w.wagered_amount)&&void 0!==k?k:0)},J=null!==(b=null==w?void 0:w.percentage)&&void 0!==b?b:0;(null==w?void 0:w.percentage)&&(0,u.$i)(w.percentage,0,5)&&(J=5);var q=!!(null==w?void 0:w.rank)&&!Y.name;q&&(J=100);var K=!(U.totalWagered||Y.name),W=function(e,n){return M?I.get(B(e,n)):void 0},Q=(0,c.useMemo)(function(){return M?C.filter(function(e){return V.has(B(e.name,e.division))}):[]},[C,V,M]),$=(0,c.useCallback)((e=(0,t._)(function(e){var n;return(0,r.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,i.VF.post("v1/rewards/rank-claim",{type:e})];case 1:return a.sent(),[4,Promise.all([_(),Z(),y()])];case 2:return a.sent(),[2,{success:!0}];case 3:return n=a.sent(),(0,u.F1)(s.Z)(n),[2,{success:!1,error:n}];case 4:return[2]}})}),function(n){return e.apply(this,arguments)}),[_,Z,y]);return{userRank:U,nextRank:Y,progress:J,isComplete:q,isLoading:K,rankStatus:E,rankStatusReady:M,rankStatusLoading:z,ranksHistory:L,claimedRanks:S,unclaimedRanks:Q,claimedSet:O,availableSet:V,notClaimableSet:H,getRankStatus:W,isAvailable:function(e,n){return M&&"AVAILABLE"===W(e,n)},isNotClaimable:function(e,n){return M&&"NOT_CLAIMABLE"===W(e,n)},mutateClaimedRanks:Z,mutateRanksHistory:Z,claimRank:$}}},91356:function(e,n,a){a.d(n,{BR:function(){return f},L6:function(){return x},Ry:function(){return m},mI:function(){return v}});var t=a(72646),r=a(32586),l=a(82271),i=a(93678),s=a(75271),u=a(40363),o=a(64329),d=a(59629),c="v1/public/ranks";function m(){var e,n,a=(0,d.ZP)().activeRate,m=(0,u.kY)().cache,v=(0,o.ZP)(c,function(){return i.VF.get(c).then(function(e){return e.data.ranks})},{revalidateOnFocus:!1,revalidateOnMount:!(null===(e=m.get(c))||void 0===e?void 0:e.data),fallbackData:null===(n=m.get(c))||void 0===n?void 0:n.data}).data;return(0,s.useMemo)(function(){return v&&(null==a?void 0:a.rate)?v.reduce(function(e,n){return(0,l._)(e).concat([(0,r._)((0,t._)({},n),{threshold:Number(n.threshold)*a.rate,reward:Number(n.reward)*a.rate})])},[]):[]},[a.rate,v])}function v(){var e=m();return(0,s.useMemo)(function(){return e.toSorted(function(e,n){return Number(e.threshold)-Number(n.threshold)})},[e])}function f(){var e=v(),n=(0,s.useMemo)(function(){return e.reduce(function(e,n){return e[n.name]=(0,l._)(e[n.name]||[]).concat([n]),e},{})},[e]),a=(0,s.useMemo)(function(){return Object.keys(n)},[n]);return{ranksByName:n,rankNames:a}}function x(e){return e&&"string"==typeof e?e.toLowerCase().replace(" ","_").replace("-","_"):e}},31884:function(e,n,a){a.d(n,{S:function(){return w}});var t=a(84750),r=a(15767),l=a(73565),i=a(50726),s=a(54577),u=a(72984),o=a(59629),d=a(93678),c=a(66820),m=a(17243),v=a(10982),f=a(70093),x=a(16588),p=a(49562),h=a(69982),g=a(75271),k=a(40363),b=a(64329);function w(e){var n,a,w,j,_,y,N,F,C=(0,u.E)().mutate,R=(0,h.Dv)(x.YU),E=(0,o.ZP)().balanceMutate,Z=(0,k.kY)().cache,P=(0,l.ZP)(),A=(0,i.r)(),M=A.userRank,z=A.nextRank,B=A.progress,D=A.isComplete,L=A.unclaimedRanks,S=A.mutateClaimedRanks,V=(0,s.Z)({swr:{keepPreviousData:!0,refreshInterval:3e5,revalidateOnMount:!e,fallbackData:e}}),O=V.data,H=V.mutate,I=V.error,T=(0,b.ZP)(R?"v1/rewards/calendar":null,function(){return d.VF.get("v1/rewards/calendar").then(function(e){return e.data}).catch((0,v.F1)(c.Z))},{keepPreviousData:!0,revalidateOnFocus:!1,dedupingInterval:3e4,fallbackData:null!==(N=null===(a=Z.get("v1/rewards/calendar"))||void 0===a?void 0:a.data)&&void 0!==N?N:m.ow,revalidateOnMount:!(null===(w=Z.get("v1/rewards/calendar"))||void 0===w?void 0:w.data)}),U=T.data,Y=T.mutate,J=Array.isArray(U)?U.reduce(function(e,n){var a=[n.morning,n.afternoon,n.evening].reduce(function(e,n){if(!n)return e;var a=1===Number(n.claimed),t=Number(n.currency_amount||0);return a?e:e+t},0);return e.plus(new p.Z(a))},new p.Z(0)).toNumber():0,q=(0,g.useCallback)(function(e){var n;d.h1.post("rewards/rank-claim",{type:e}).then((n=(0,t._)(function(e){return(0,r.Jh)(this,function(n){switch(n.label){case 0:return[4,Promise.all([C(),H(),S(),E()])];case 1:if(n.sent(),!e.data.success)throw e.data;return[2,e.data]}})}),function(e){return n.apply(this,arguments)})).then(function(e){(0,c.Z)({type:1,code:"su_reward",replacements:{TOKEN_AMOUNT:e.currency_amount_redeemed},raw:!0})}).catch((0,v.F1)(c.Z))},[C,H,S,E]),K=(0,g.useCallback)((n=(0,t._)(function(e){var n,a;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,d.VF.post("v1/rewards/calendar-claim",{date:e})];case 1:return n=t.sent(),(0,c.Z)({code:"su_queue_added",type:1,raw:!0}),[4,Promise.all([C(),H(),Y(),E()])];case 2:return t.sent(),[2,n.data];case 3:return a=t.sent(),(0,v.F1)(c.Z)(a),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),[C,H,Y,E]),W=(0,b.ZP)(R?"v1/rewards/history":null,function(){return d.VF.get("v1/rewards/history").then(function(e){return e.data}).catch((0,v.F1)(c.Z))},{keepPreviousData:!0,revalidateOnFocus:!1,dedupingInterval:3e4,fallbackData:null!==(F=null===(j=Z.get("v1/rewards/history"))||void 0===j?void 0:j.data)&&void 0!==F?F:[],revalidateOnMount:!(null===(_=Z.get("v1/rewards/history"))||void 0===_?void 0:_.data)}),Q=W.data,$=W.mutate,G=(0,g.useMemo)(function(){var e;return(0,f.zO)(P,(0,f.Qd)(null==O?void 0:null===(e=O.rakeback_boost)||void 0===e?void 0:e.expires_at))},[P,null==O?void 0:null===(y=O.rakeback_boost)||void 0===y?void 0:y.expires_at]);return{rewardsHistory:Q,mutateHistory:$,userRank:M,nextRank:z,progress:B,isComplete:D,unclaimedRanks:L,rewardsData:O,rewardsError:I,expireAtRakebackBoost:G,calendarData:U,claimCalendarReward:K,mutateCalendar:Y,totalCalendarRewards:J,now:P,collect:q,mutateRewards:H,mutateClaimedRanks:S}}}}]);